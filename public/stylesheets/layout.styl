@import 'nib'

body
  font 24px Helvetica
  background #999999
  color rgba(0,0,0,.25)

#main
  min-height 800px
  margin 0
  padding 0
  display flex
  display -webkit-flex
  flex-flow row
  -webkit-flex-flow row
  & > article
    margin 4px
    padding 5px
    border 1px solid #cccc33
    border-radius 7pt
    background #dddd88
    flex 3 1 60%
    -webkit-flex 3 1 60%
    order 2
    -webkit-order 2
  & > nav
    margin 4px
    padding 5px
    border 1px solid #8888bb
    border-radius 7pt
    background #ccccff
    flex 1 6 20%
    -webkit-flex 1 6 20%
    order 1
    -webkit-order 1
  & > aside
    margin 4px
    padding 5px
    border 1px solid #8888bb
    border-radius 7pt
    background #ccccff
    flex 1 6 20%
    -webkit-flex 1 6 20%
    order 3
    -webkit-order 3

header, footer
  display block
  margin 4px
  padding 5px
  min-height 100px
  border 1px solid #eebb55
  background #ffeebb

@media all and (max-width 640px)
	#main, #page
    flex-flow column
    -webkit-flex-flow: column

	#main > article, #main > nav, #main > aside
  	order 0
  	-webkit-order 0

	#main > nav, #main > aside, header, footer
  	min-height 50px
  	max-height 50px